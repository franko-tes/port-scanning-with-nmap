# 03.2 DetecciÃ³n de Versiones con Nmap

ğŸ“– **Consulta la teorÃ­a antes de comenzar:**  
ğŸ”— [03.Escaneo de Servicios y Versiones con Nmap](https://courageous-tail-945.notion.site/03-Escaneo-de-Servicios-y-Versiones-con-Nmap-19e82d5d542380878129e6a78e52ccfd)


## Ejecutar un escaneo de versiones

El escaneo de versiones con **Nmap** permite obtener informaciÃ³n detallada sobre los servicios en ejecuciÃ³n en los puertos abiertos.  
Para realizar un escaneo de versiones, ejecuta el siguiente comando en **Windows (PowerShell):**

`nmap -sV --version-all <IP_DEL_OBJETIVO>`

ğŸ“Œ **Ejemplo con una IP local:**  
`nmap -sV --version-all 192.168.1.1`

ğŸ“Œ **Posible salida del comando:**  
> Starting Nmap 7.94 ( https://nmap.org ) at 2024-02-18 16:30  
> Nmap scan report for 192.168.1.1  
> Not shown: 65530 closed ports  
> PORT      STATE SERVICE   VERSION  
> 22/tcp    open  ssh       OpenSSH 7.9p1 Debian 10+deb10u2  
> 80/tcp    open  http      Apache httpd 2.4.38 ((Debian))  
> 443/tcp   open  https     Apache httpd 2.4.38 ((Debian))  
> 3306/tcp  open  mysql     MySQL 5.7.29  
> 8080/tcp  open  http-proxy nginx 1.14.2  

---

## Â¿QuÃ© hace este comando?

âœ… `-sV` â†’ Activa la detecciÃ³n de versiones en los servicios detectados.  
âœ… `--version-all` â†’ Fuerza a Nmap a probar **todos los mÃ©todos disponibles** para obtener informaciÃ³n mÃ¡s precisa sobre las versiones de los servicios.  
âœ… Es Ãºtil para auditorÃ­as de seguridad y para identificar vulnerabilidades en servicios desactualizados.  

âš ï¸ **Limitaciones:**  
âŒ Puede ser mÃ¡s lento, ya que ejecuta todas las tÃ©cnicas de detecciÃ³n de versiones.  
âŒ Algunos servicios pueden devolver informaciÃ³n falsa o incompleta.  
âŒ Puede generar trÃ¡fico mÃ¡s detectable por firewalls o IDS (Sistemas de DetecciÃ³n de Intrusos).  

---

## SoluciÃ³n de problemas

ğŸ”¹ **Error: "Service detection may be unreliable"**  
ğŸ“Œ **Posible causa:** Nmap no pudo identificar correctamente los servicios.  
ğŸ“Œ **SoluciÃ³n:** Usa `--version-trace` para obtener mÃ¡s detalles del anÃ¡lisis:  
`nmap -sV --version-trace <IP_DEL_OBJETIVO>`

âœ… Esto mostrarÃ¡ informaciÃ³n detallada sobre el proceso de detecciÃ³n y posibles fallos.  

ğŸ”¹ **Error: "Host seems down"**  
ğŸ“Œ **Posible causa:** El objetivo estÃ¡ apagado o bloqueando las solicitudes.  
ğŸ“Œ **SoluciÃ³n:** Intenta agregar la opciÃ³n `-Pn`:  
`nmap -sV --version-all -Pn <IP_DEL_OBJETIVO>`

âœ… Esto permitirÃ¡ a Nmap escanear los puertos sin verificar si el host responde al ping inicial.  

ğŸ”¹ **Error: "Nmap requires elevated privileges" (solo en Windows)**  
ğŸ“Œ **Posible causa:** PowerShell no se ejecutÃ³ como Administrador.  
ğŸ“Œ **SoluciÃ³n:** Abre **PowerShell como Administrador** e intenta de nuevo.  

